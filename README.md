# Appendix: Mining Pool Reward Simulation

本リポジトリは、卒業論文の付録として、ビットコイン型のマイニングプール報酬分配方式に関するシミュレーション実装と、図表の再現手順をまとめたものです。  
ノートブックを実行すると、章3〜4で用いた評価値（公平性・正値性・インセンティブ整合性プロキシなど）と、トレードオフ図を再生成できます。

---

## 1. 収録物

- `faireness_with_outputs_appendix.ipynb`  
  シミュレーション本体と、評価値集計、図の出力までを含むJupyter Notebookです。

- `results_ch3/`（実行後に生成）  
  CSVとPNGが保存されます。ディレクトリは実行条件により多少変わることがあります。

---

## 2. 実行環境

Google Colabでの再現を想定しています。

- Python: 3.10 以上（推奨）
- 主な依存ライブラリ: `numpy`, `pandas`, `matplotlib`

---

## 3. Google Colabで動かす

1) GitHub上の `faireness_with_outputs_appendix.ipynb` を開く  
2) URLの先頭を `https://colab.research.google.com/github/` に置き換えて開く  
3) 依存が足りない場合は、ノートブック冒頭で `pip install` を実行

---

## 4. 出力されるもの

実行により、次のようなファイルが生成されます。

- 評価値の集計（CSV）
  - `fairness_diagnostics.csv`
  - `parameter_sweep_summary.csv`
  - ほか

- 図（PNG）
  - 公平性（絶対的・相対的再分配誤差）とNの関係
  - 正値性プロキシ（ゼロ配分比率、ラウンド内最小配分）とNの関係
  - ICプロキシ（進捗tに対する誤差）  
  - トレードオフ散布図（公平性×IC）

---

## 5. トレードオフ図の読み方

- x軸: 公平性（再分配誤差。相対／絶対のいずれかを選択）
- y軸: インセンティブ整合性のプロキシ（小さいほどICに近い、という定義）
- 各点: 報酬分配方式（およびパラメータセット）

ノートブック内で、相対版・絶対版のどちらを代表図として出力するかを切り替えています。

---

## 6. 再現性に関する注意

- 乱数シードを固定している場合でも、環境差（OS・Python・ライブラリのバージョン）で微小な差が出ることがあります。
- 走査するパラメータ数を増やすと計算時間が増えます。まず小さなグリッドで確認してから拡張してください。

